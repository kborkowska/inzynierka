% !TeX document-id = {94f9f4ef-72ec-4951-a610-9b7f494f2a41}

% !TeX TXS-program:compile = txs:///pdflatex/[--shell-escape]

\documentclass[a4paper,11pt]{article}
\usepackage[utf8]{inputenc}
\usepackage[polish]{babel}
\usepackage{polski}
\usepackage[pdftex]{graphicx}
\usepackage{listings}
\usepackage{amsfonts}
\usepackage{geometry}
\usepackage{multicol}
\usepackage{indentfirst}
\usepackage{secdot}
\usepackage[section]{placeins}
\usepackage[table]{xcolor}
\usepackage{float}
\usepackage{array}
\usepackage{tikz}
\usepackage{pgfplots}
\usepackage{siunitx}
\usetikzlibrary{external}
\usetikzlibrary{pgfplots.groupplots}
\pgfplotsset{compat=1.11}
\textwidth 160mm \textheight 247mm
\tikzexternalize

\pgfplotsset{width=\figurewidth,compat=1.11}
\pgfplotsset{
	tick label style={font=\scriptsize},
	label style={font=\small},
	legend style={font=\small},
	title style={font=\small}
}

\begin{document}


\begin{figure}[tb]
\tikzsetnextfilename{simpJPD}
	\begin{tikzpicture}
			\begin{groupplot}[group style={group size=1 by 4, horizontal sep={1cm},vertical sep={2cm}},
			width=0.9\textwidth,height=0.3\textwidth]
			
			\nextgroupplot
			[
			width=0.9\textwidth,
			xmin=0,xmax=3.2,ymin=-0.101,ymax=0.41,
			xlabel={$t$},
			ylabel={$Position$},
			xtick={0,0.5,1.0,1.5,2.0,2.5},
			ytick={-0.1,0.0,0.1,0.2,0.3},
			extra y ticks={0.4},
			extra x ticks={3.17},
			extra tick style={grid=major},
			y tick label style={/pgf/number format/1000 sep=},
			title = Symulacja generatora,
			]
			\addplot[orange,semithick] file {MatlabResults/[VEL]positions:q0:-0.10063q1:0.4v0:0v1:0vmax:0.3amax:0.2.txt};
			
			\nextgroupplot
			[
			width=0.9\textwidth,
			xmin=0,xmax=3.2,ymin=-0.101,ymax=0.41,
			xlabel={$t$},
			ylabel={$Position$},
			xtick={0,0.5,1.0,1.5,2.0,2.5},
			ytick={-0.1,0.0,0.1,0.2,0.3},
			extra y ticks={0.4},
			extra x ticks={3.17},
			extra tick style={grid=major},
			y tick label style={/pgf/number format/1000 sep=},
			title = Zadane generatora,
			]
			\addplot[magenta,semithick] file {SymulationResults/JPD:0.300000:0.200000:-0.100633:0.400000/joint-1-setpoint.txt};
			\nextgroupplot
			[
			width=0.9\textwidth,
			xmin=0,xmax=3.2,ymin=-0.101,ymax=0.41,
			xlabel={$t$},
			ylabel={$Position$},
			xtick={0,0.5,1.0,1.5,2.0,2.5},
			ytick={-0.1,0.0,0.1,0.2,0.3},
			extra y ticks={0.4},
			extra x ticks={3.17},
			extra tick style={grid=major},
			y tick label style={/pgf/number format/1000 sep=},
			title = Wyniki symulacji,
			]
			\addplot[blue,semithick] file {SymulationResults/JPD:0.300000:0.200000:-0.100633:0.400000/joint-1-result.txt};
			
			\nextgroupplot
			[
			width=0.9\textwidth,
			xmin=0,xmax=3.2,ymin=-80,ymax=0.0,
			xlabel={$t$},
			ylabel={$Position$},
			ytick={-70,-60,-50,-40,-30,-20,-10,0},
			xtick={0,0.5,1.0,1.5,2.0,2.5},
			extra y ticks={-79.1},
			extra x ticks={3.17},
			extra tick style={grid=major},
			y tick label style={/pgf/number format/1000 sep=},
			title = Symulacja ruchu silnika,
			]
			\addplot[orange,semithick] file {MatlabResults/[MOTOR1]positions:q0:-0.10063q1:0.4v0:0v1:0vmax:0.3amax:0.2.txt};
			
			\end{groupplot}
			\end{tikzpicture}
	\end{figure}
\end{document}